[[ -o interactive ]] || return

setopt prompt_subst
setopt auto_cd
setopt correct
setopt no_beep
setopt interactive_comments

HISTFILE=${ZDOTDIR:-$HOME}/.zsh_history
HISTSIZE=100000
SAVEHIST=100000
setopt share_history inc_append_history hist_ignore_dups hist_reduce_blanks

autoload -Uz compinit
compinit -d "${ZDOTDIR:-$HOME}/.zcompdump"

typeset -g zsh_config_dir="${ZDOTDIR:-$HOME/.config/zsh}/conf.d"

if [[ -d $zsh_config_dir ]]; then
  setopt null_glob
  for config_file in "$zsh_config_dir"/*.zsh; do
    [[ -r $config_file ]] && source "$config_file"
  done
  unsetopt null_glob
fi

unset zsh_config_dir config_file
